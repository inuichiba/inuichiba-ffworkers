
// functions/richmenu-manager/data/messages.js（再構築版）
// ✅ Gen2互換、安全なenv.js呼び出し形式に変換済

import { getEnv } from "../../lib/env.js";

// 🔹 必要に応じて環境情報を受け取る関数スタイルに変更
export function createMessages(env) {
  const { isProd, baseDir } = getEnv(env);

// ////////////////////////////////////////////////
// 出力メッセージ定義
const msgA1 = "犬市場 in OKAZAKI 2025 Springの詳細です！\n\n開催概要\n◆開催日 / 5月17日(土)18日(日)少雨決行\n※荒天・台風など不測の場合を除き雨天でも開催いたします。" +
  "◆開催時間 / 9:30〜16:00\n◆開催場所 /愛知県岡崎城公園第6号乙川河川緑地\n◆住所 /〒444-0052 愛知県岡崎市康生町５２１\n◆入場料 / 1日500円(小学生以下無料)\n◆出店店舗 / 約230ブース(予定)\n" +
  "◆主催 / WAN'S team\n◆来場予定人数 / 10,000人(予定)\n\n当日は【パークアンドライド】【特設駐車場】もございますので、皆さまお誘い合わせの上ご来場心よりお待ちしております！";


const msgA20 = "イベントを楽しむためのご来場マナーと注意事項をご確認ください";
const msgA21 =
  "・マスクの着用はご自身の判断でご参加をお願いいたします\n\n" +
  "・体調不良の方や発熱がある方は参加自粛をお願いいたします\n\n" +
  "・会場にはゴミ捨て場はございませんので、各自ゴミはお持ち帰りをお願いいたします\n\n" +
  "・会場施設にはイベントに関係のない一般の方も往来されますのでマナーとご配慮をお願いいたします";
const msgA22 =
  "・マナーベルト／マナーおむつの着用をお願いいたします\n\n" +
  "・ワンちゃんのトイレは指定場所以外ではさせないようお願いいたします\n\n" +
  "・ワンちゃんのうんちはそのままにせず、飼い主さまが必ず家に持ち帰ってから処分してください\n\n" +
  "・ご来場の際は、首輪または胴輪（ハーネス等）を着用し、必ずリードをしてください\n" +
  "※ロングリードや伸縮リードは万が一何かあった場合に制御できませんので禁止とさせていただきます";
const msgA23 =
  "・集団でお店の前での立ち話、撮影はお店の方や他のお客さまの迷惑となりますのでおやめください\n\n" +
  "・会場内、近隣の公園、施設付近で大勢で集まっての写真撮影やオフ会行為等は、他の来場者へご迷惑をおかけします\n" +
  "フードエリア河川上流の共有スペースがございますのでそちらをご利用ください";


const msgA3 = "🚗🐾パークアンドライドのご案内🐾🚗\n🐕愛犬との特別な1日を、移動から楽しもう！✨\nパークアンドライドを使えば、スムーズで気持ちのいいスタートがきれます！\n" +
  "会場までの道のりを、ストレスフリーに楽しむなら、パークアンドライドがオススメ！💡\n車を停めたら、あとは大型バスで快適移動🚌✨\n愛犬と一緒に、ちょっとした旅気分を味わいながら会場へGO！🌟🐶\n\n" +
  "🌟3つのポイントで選ばれています！🌟\n① 混雑知らずでスイスイ到着！🚦🛣️会場近くの渋滞や駐車場探しのイライラを解消！🎉\n\n" +
  "② シャトルバスで愛犬と一緒にリラックス♪🚌💺\nペット対応OKだから安心。🐕✨ ワクワクする時間をプラス！🎈\n\n" +
  "③ 駐車も安心＆低コスト！🅿️💸\n指定駐車場は広々スペースで、駐車料金は無料！🆓\n※駐車場の数には限りがあるので、早めのご利用がおすすめです！⏰🚗\n\n" +
  "詳しくは、下記URLよりご確認ください！👇🔗\n🔗 https://inuichiba.com/cn7/pg1339008.html";


const msgA40 =
  "🐾 **ワンちゃんと一緒に楽しめる♪舟あそび** 🚤\n① **プログラム名**：舟あそび\n② **実施団体**：岡崎城下舟あそび（株式会社ツツイエンターテイメント\n③ **実施時間**：⏰ 9:30～16:00" +
  "④ **料金**：\n- 大人 🧑‍🦳 1,000円\n- 高校生以下 🧒 500円\n- ワンちゃん 🐶 500円／1匹\n- 3歳以下 👶 無料\n\n" +
  "⑤ **プログラム紹介**：\n🐾 乙川でお馴染みの観光船が、**犬市場**に合わせて特別運行！\n舟の上から、見たことのない乙川の景色を探しに行こう✨\n船頭さんが乙川の知られざる魅力をたくさん教えてくれるよ📖\n🚤 **会場内の舟着き場**よりご乗船ください。\n\n" +
  "📍 **詳細に関しては、当日会場内の舟着き場にてご確認ください！**";
const msgA41 =
  "ワンちゃんとも一緒に楽しめる♪\n【SUPであそぼう！】のインフォメーション\n\n実施団体：\nwaileo Waterman's Club&Store\n\n" +
  "○シングル\n○タンデム(2人乗り)\n＊1人で漕げないお子様やワンちゃんとお楽しみいただけます。\n\n" +
  "催行時間:10:00〜 1時間毎\n最終15:00〜\n＊各時間:定員7名\n\n料金：2500円／45分\n\n乙川とSUPをみんなで楽しもう！\n\n" +
  "SUPAアドバンスインストラクター\nSiJ 公認インストラクターlevel.1\n日本ドッグサップ協会公認\nアクティビティトレーナー\nドッグサップベーシックインストラクター\n" +
  "の資格を有し現役アスリートとして\n全日本優勝歴もある国内でもトップクラスのインストラクターがやさしく、わかり易く時にはきびしく体験の手ほどきをいたします。\n\n" +
  "※犬用レンタルライフジャケットは数・サイズに限りがあります。\n※特に大きい、小さい等特徴的な体格の場合サイズが合わない場合お断りします。\n＊上記理由により出来る限りご持参をお願い致します。\n\n" +
  "詳細に関しては、メールにてお問合せください。\nshigesup@waileo-sup.com";
const msgA42 =
  "🎤イベントステージ🎤\n今回も楽しみながら学べる内容\n盛り沢山♡\n\n1️⃣10:00～\n【ペット救急講座☀熱中症と心肺蘇生☀】\n" +
  "2️⃣11:00~\n【◯×マナークイズ】\n3️⃣13:00～\n【挑戦者求む！愛犬とタイムアタック】\n4️⃣15:00～\n【犬界知識王決定戦】\n\n" +
  "🐶マナーアンケート🐶\nシールを貼るだけ！簡単アンケート参加で粗品をゲットしよう✨\n1️⃣10:30\n会場中央ゲート再入場・退場口\n" +
  " 2️⃣12:30\n会場中央ゲート再入場・退場口\n3️⃣15:30\n入退場口(チケット売場)\n\n\n" +
  "★ご予約は必要ありません\n★参加費は無料です\n★予告なく内容を変更させて\nいただく場合がございます\n\n" +
  "詳細はDOG HOUSE RUPOのインスタにて随時発表🎊(@doghouse_rupo )";


const msgA50 = "犬市場のドッグランに関して\n\n料金：1頭500円\n\nご利用になる皆さまには皆さまが安全に楽しくご利用いただくためのルールがございますのでご確認をお願いいたします！";
const msgA51 =
  "可愛いワンちゃんと飼い主様に安全、安心にご利用して頂く為に、本規約をお守りください。\n\n" +
  "お守り頂けないお客様は、ご利用をお断りする場合がございます。\n\n" +
  "施設内での事故・トラブルに関しましては当方は一切の責任を負いかねますので、直接ご利用者様同士のお話し合いで解決をお願いいたします。\n\n" +
  "ご利用いただけるのは次の条件を満たしているワンちゃんに限ります。";
const msgA52 =
  "狂犬病予防接種・5種混合ワクチン以上等の予防接種が1年以内に済んでいること。\n（証明書を必ず持参してください・写真による確認は可）\n" +
  "※電話などによる口答での確認は不可\n\n" +
  "※シニア犬やアレルギーによる狂犬病予防接種が受けられないワンちゃんは安全面の観点からドッグランの利用はできません。\n\n" +
  "※３種混合ワクチンでは利用できません。必ず５種混合以上となります。";
const msgA53 =
  "※５種混合ワクチン以上を1年以内に受けていないが、その抗体があることが分かる証明書があればドッグランは利用可能です。\n\n" +
  "※集団接種で狂犬病ワクチンを接種した場合、多くの自治体では証明書を発行しない事が殆どです（場合によっては発行する自治体もあります）。\n\n" +
  "他の施設利用の場合においても、証明書の提示を求められるケースが出てまいります。\n今後のワンちゃんライフを楽しむ為にも、証明書が発行される動物病院で接種する事をお勧めいたします。";
const msgA54 =
  "ヒート中（生理後2週間まで）でないこと。\n\nノミ・ダニや伝染性疾患がないこと。\n\n人間や他の犬に対して攻撃性がないこと。\n\n" +
  "小学生以下一名につき大人の方が一名一緒にご入場ください。\n\n" +
  "また、小学生以下一名と3頭以上のワンちゃん入場の場合、必ず大人の方が2名以上ご一緒に入場ください。";
const msgA55 =
  "※ドッグランは、ワンちゃんが自由に動いてワンちゃんが遊ぶ施設であり、自分のワンちゃん以外と触れ合って遊ぶ施設ではございません。\n" +
  "むやみに他のワンちゃんを触ろうとはしないでください。特に未修学児のご利用は大人が手を離さないようにお願いします。";
const msgA56 =
  "ドッグラン以外は必ずリードをつけてください。\n\n" +
  "ドッグランに入ったらご自分のワンちゃんから絶対に目を離さないでください。";
const msgA57 =
  "ドッグランに入る時は必ずリードをつけて入ってください。他のワンちゃんや人間に慣れてからリードを外してください。\n\n" +
  "マウンティングはさせないでください。\n\nフリスビー、ボール投げ等はご遠慮ください。\n\n" +
  "ご自分のワンちゃんのうんちは飼い主さまがお持ち帰りください。";
const msgA58 =
  "イタリアン・グレイハウンド／ウェストハイランドホワイトテリア／キャバリア／ケアンテリア／シーズー／シェットランドシープドッグ／ジャック・ラッセルテリア／スコティッシュテリア／" +
  "マルチーズ／チャイニーズ・クレステッド／チワワ／独（ちん）／トイプードル／日本スピッツ／パグ／パピヨン／ビションフリーゼ／フレンチブルドッグ／ペキニーズ／ボストンテリア／ポメラニアン／" +
  "ミニチュア・シュナウザー／ミニチュア・ダックスフンド／ミニチュア・ピンシャー／ヨークシャーテリア／アメリカンコッカースパニエル／ウェルシュコーギーほか";
const msgA59 =
  "ウィペット／甲斐犬／サルーキー／柴犬／スタンダード・ダックスフンド／スタンダード・プードル／バセットハウンド／ビーグル／ブルテリア／ブルドッグ／ホイペット／ボーダーコリー／" +
  "北海道犬／ミニチュアプードル／ミニチュアブルテリア／アイリッシュセッター／秋田犬／アフガンハウンド／ラフコリー／アラスカンマラミュート／イングリッシュセッター／紀州犬／" +
  "イングリッシュポインター／エアデール／グレイハウンド／グレート・ピレニーズ／コリー／ゴールデン・レトリバー／サモエド／シベリアンハスキー／グレート・デン／ジャーマンシェパードドッグ／" +
  "ボルゾイ／セントバーナード／ダルメシアン／チャウチャウ／ボクサー／ニューファンドランド／バーニーズマウンテンドッグ／フラットコーテッドレトリバー／ラブラドールレトリバーほか";


const msgA6 = "下記よりご確認いただけます👇📄\n\nまた、URLよりMAPのダウンロードも可能です🗺️📥\n" +
  "ぜひ、そちらも合わせてご確認ください！😊\nhttps://inuichiba.com/pg1135073.html";


const msgA70 = "【駐車場に関して】\n会場専用の駐車場はございません、近隣の有料駐車場をご利用ください。\n公共の施設などにはお停めにならないようお願いいたします。\nなお近隣の駐車場をマッピングしましたのでご確認ください。\n https://goo.gl/maps/AFh1DBZ88AvNLvsR8 \nまた、下記駐車場検索WEBサイトもございますのでご活用ください\nPPPark!\n https://pppark.com/okazaki/riverfront/ \n特P\n https://toku-p.earth-car.com/";
const msgA71 = "【新設有料駐車場】もございます。\n◆乙川河川緑地駐車場は\n開場:8:00〜17:00まで\n1台500円でご利用可能ですのでこちらもご利用ください。\n約400台収容可※下記地図参照・一方通行あり\n特設駐車場につきカーナビにはでてきませんので地図をご参照ください\n〒444-0053 愛知県岡崎市板屋町221番地（付近）\n\n◆明神橋公園臨時駐車場\n〒444-0858 愛知県岡崎市上六名１丁目１−９（付近）\n開場:8:00〜17:00まで\n1台500円でご利用可能ですのでこちらもご利用ください。\n約300台収容可※地図参照・一方通行あり\n特設駐車場につきカーナビにはでてきませんので地図をご参照ください";
const msgA72 = "臨時駐車場は17:00を過ぎますと施錠を致します\n施錠をしますと明朝までお車は出すことはできなくなりますので、必ず時間内にお車の退出をお願い致します。\n\n※コムタウンなどの近隣商業施設駐車場の無断駐車は絶対にしないでください。\n※西三河総合庁舎の駐車場はイベント利用者様は利用出来ません。";


const msgB1 = msgA1;

const msgB1y = "あのお祭り感のある夜市が戻ってきます！\nそして犬市場 夜市　2日間開催決定！\n\n開催概要\n" +
  "◆開催日 /8月16日(土)　17日(日) 小雨決行・荒天中止\n発表はSNSでします。\n◆開催時間 / 16日(土) 16:30〜21:30 / 17日(日) 16:30〜21:00\n" +
  "◆開催場所 /愛知県岡崎城公園第6号乙川河川緑地\n◆住所 /〒444-0052 愛知県岡崎市康生町５２１\n◆入場料 / 1日500円(小学生以下無料)\n" +
  "◆出店店舗 / 約100ブース(予定)\n◆主催 / WAN'S team\n◆来場予定人数 / 8,000人(予定)\nその他イベントの詳細は、決まり次第インスタグラムで告知していくよ！";

const msgB20 = msgA20;
const msgB21 = msgA21;
const msgB22 = msgA22;
const msgB23 = msgA23;

const msgB3 = msgA3;

const msgB3y = "🚗🐾パークアンドライドのご案内🐾🚗\n🐕‍🦺愛犬との特別な1日を、移動から楽しもう！✨\nパークアンドライドを使えば、スムーズで気持ちのいいスタートがきれます！\n" +
  "会場までの道のりを、ストレスフリーに楽しむなら、パークアンドライドがオススメ！💡\n車を停めたら、あとは大型バスで快適移動🚌✨\n愛犬と一緒に、ちょっとした旅気分を味わいながら会場へGO！🌟🐶\n\n" +
  "🌟3つのポイントで選ばれています！🌟\n① 混雑知らずでスイスイ到着！🚦🛣️\n会場近くの渋滞や駐車場探しのイライラを解消！🎉\n\n" +
  "② シャトルバスで愛犬と一緒にリラックス♪🚌💺\nペット対応OKだから安心。🐕✨ ワクワクする時間をプラス！🎈\n\n" +
  "③ 駐車も安心＆低コスト！🅿️💸\n指定駐車場は広々スペースで、駐車料金は無料！🆓\n※駐車場の数には限りがあるので、早めのご利用がおすすめです！⏰🚗\n\n" +
  "🎈🎈詳細は後日発表！🎈🎈";

const msgB40 = msgA40;
const msgB41 = msgA41;
const msgB42 = msgA42;

const msgB4y0 = "【舟あそび】\n\n実施団体：岡崎城下舟あそび（株式会社ツツイエンターテイメント）\n\n実施時間：17日(土)　16:30～21:30\n　　　　　18日(日)　16:30～21:00\n\n" +
  "料金：大人1000円、高校生以下500円（ワンちゃん500円／1匹、３歳以下は無料）\n\n" +
  "乙川でお馴染みの観光船が犬市場に合わせて特別運行します。舟の上から、見たことのない乙川の景色をみつけにいこう！船頭さんが乙川の知られざる魅力をたくさん教えてくれるよ。会場内の舟着き場よりご乗船ください。\n\n" +
  "運航状況などは当日、舟着き場にてお確かめください。";
const msgB4y1 = "【わんこプール】\n夏といえばプール&水遊び♪\n夜市のために海外より特注で製作しちゃいました🤗サイズも特注なのでとっても大きいです！\n" +
  "プールが大好きなわんこも\nまだプールに入ったことの無いわんこも\n皆んな一緒に楽しんじゃおう♪\n\n" +
  "ライフジャケットが必要でお持ちでないワンコにはレンタルもございます！\nプールに使用する水は水道水なので安心です！\n\n" +
  "料金：1頭500円\n※ライフジャケット1頭　200円\n（レンタル時にお預かり金として2,000円が必要になります）\n\n" +
  "※当会場ではプールのみの設置となります。\nその他、シャワーなどの設備等はございません。ご了承下さい。\n\n" +
  "ご利用にあたり下記の証明書が必要になります。\n◆狂犬病予防接種証明\n◆5種ワクチン接種証明（5種以上）\n" +
  "※レシートや領収書、鑑札などは受付ができません。\n必ず「証明証」をご持参ください。\n\n下記画像にサンプルがございますのでご確認願います。";

const msgB6 = msgA6;

const msgB70 = msgA70;
const msgB71 = msgA71;
const msgB72 = msgA72;



const msgJoin = "こんにちは🐾 犬市場Botです🐶\nどうぞよろしくお願いします！";
const msgY = "こんにちは🐕🐾\n投稿やライブを楽しみにしててね✨";
const msgPostpone = "メッセージありがとうございます！\n申し訳ございませんが、こちらのアカウントでは個別のお問い合わせには対応しておりません。\nどうぞ次の配信をお待ちください。\n\nもしメニューをご覧いただけない場合は、左下の「≡」のマークをタップしていただくか、一度トーク画面を閉じて再度開いてください。";
// const msgTimeoutAppend = "タイムアウトを検知したためファイルへの書き込みに失敗しました。\nもう一度処理を行ってください。";
// const lineQRtext = "友だち追加用のQRコードです。\nどうぞお使いください。";



// //////////////////////////////////////////////////
// postback用テキストメッセージマップ
const textMessages = {
  "tap_richMenuA1":  [ { type: "text", text: msgA1  } ],
  "tap_richMenuB1":  [ { type: "text", text: msgB1  } ],
  "tap_richMenuB1y": [ { type: "text", text: msgB1y } ],
  "tap_richMenuB3y": [ { type: "text", text: msgB3y } ],
  "tap_richMenuA4":  [
                      { type: "text", text: msgA40  },
                      { type: "text", text: msgA41  },
                      { type: "text", text: msgA42  }
                     ],
  "tap_richMenuB4":  [
                      { type: "text", text: msgB40  },
                      { type: "text", text: msgB41  },
                      { type: "text", text: msgB42  }
                     ]
};


// 画像メッセージ
// 動画(videos)は有償になりかねないので出さない。動画はYouTubeで出すこと
const mediaMessages = {
  "tap_richMenuB4y": [
    { type: "text", text: msgB4y0 },
    { type: "text", text: msgB4y1 },
    {
      type: "image",
      originalContentUrl: `${baseDir}dogrun/view_dogrun5.jpg`,
      previewImageUrl:    `${baseDir}dogrun/view_dogrun5.jpg`
    }
  ]
};


// "QRコード"、"友だち追加"が入力されたときのmessage
// 現状自動応答メッセージがメッセージだけ出しているので、
// Botはメッセージは抑制してQRコードだけ表示する
const lineQRMessages = [
  // { type: "text", text: lineQRtext },
  {
    type: "image",
    originalContentUrl: `${baseDir}images/` + (isProd ? "lineQRcode_ffprod.jpg" : "lineQRcode_ffdev.jpg"),
    previewImageUrl:    `${baseDir}images/` + (isProd ? "lineQRcode_ffprod.jpg" : "lineQRcode_ffdev.jpg")
  }
];


// 絵文字テンプレート
const textTemplates = {
  "msgFollow": "はじめまして$\nお友だち追加ありがとうございます！\nこのアカウントでは最新情報を定期的に配信して参ります。\nどうぞお楽しみに！\n\nメニューが表示されない場合、いったんトーク画面を閉じて再度開いてくださいね$",
  "tap_richMenuB2y": "イベントを楽しむためのグッドマナーです$以下省略$"
};

const emojiMap = {
  "msgFollow": [
    { productId: "5ac21184040ab15980c9b43a", emojiId: "011" },
    { productId: "5ac21184040ab15980c9b43a", emojiId: "154" }
  ],
  "tap_richMenuB2y": [
    { productId: '5ac1bfd5040ab15980c9b435', emojiId: '001' },
    { productId: '5ac1bfd5040ab15980c9b435', emojiId: '002' }
  ]
};

// //////////////////////////////////////////////////
// リターン値（外部から使われる値のみ）
return {
  textMessages,
  mediaMessages,
	lineQRMessages,
  textTemplates,
  emojiMap,
  msgA20,msgA21,msgA22,msgA23,
  msgA3,
  msgA50,msgA51,msgA52,msgA53,msgA54,msgA55,msgA56,msgA57,msgA58,msgA59,
  msgA6,
  msgA70,msgA71,msgA72,
  msgB20,msgB21,msgB22,msgB23,
  msgB3,
  msgB6,
  msgB70,msgB71,msgB72,
  msgJoin,
  msgY,
  msgPostpone
};
} // createMessages()の終了


